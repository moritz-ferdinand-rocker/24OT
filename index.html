<!-- Copyright Moritz Ferdinand Rocker 2020. -->
<!DOCTYPE html>
<html lang = 'de'>
	<head>
		<meta charset = 'UTF-8'>
		<meta content = 'width=device-width, initial-scale=1.0'
		      name = 'viewport'>
		<meta content = '24OliveTrees' name = 'title'>
		<meta content = 'Hanns Simon Günther & Moritz Ferdinand Rocker'
		      name = 'author'>
		<meta content = '2020-01-13' name = 'date'>
		<meta content = 'Filmproduktion aus Bremen' name = 'Description'>
		<meta content = '24OliveTrees, 24OT, Musicvideo, Imagefilm, Commercial, Bremen, Videoproduktion'
		      name = 'Keywords'>
		<meta content = 'all' name = 'robots'>
		<link href = '/wip/manifest.webmanifest' rel = 'manifest'>
		<link href = '/favicon.ico' rel = 'shortcut icon' type = 'image/x-icon'>
		<meta content = '#ffff00' name = 'theme-color'>
		<title>24OliveTrees</title>
		<style>
			html, body{
				background-color : #000000;
				font-family      : Raleway, sans-serif;
				font-size        : 13px;
				height           : 100%;
				margin           : 0;
				overflow         : hidden;
			}
			::-webkit-scrollbar{
				display : none;
			}
			section{
				left     : 0;
				overflow : hidden;
				position : fixed;
			}
			img{
				height     : 100%;
				object-fit : cover;
				position   : absolute;
				top        : 0;
				transition : all 0.5s ease-in-out;
				width      : 100%;
			}
			img:hover, img:focus{
				filter : grayscale(100%);
			}
			video{
				height     : 100%;
				object-fit : cover;
				width      : 100%;
			}
			.box{
				height   : 100%;
				position : relative; /* ?? */
				top      : 0;
			}
			h1, h2, h3, p{
				color    : white;
				left     : 20px;
				margin   : 0;
				position : absolute;
				top      : 0;
			}
			h1{
				font-size : 30px;
			}
			h3{
				font-size    : 20px;
				writing-mode : vertical-rl;
			}
			p{
				color : white;
			}
			video{
				filter     : brightness(50%);
				transition : transform .5s, filter 1.5s ease-in-out;
			}
			video:hover{
				filter    : brightness(100%);
				transform : scale(1.1);
			}
			.content{
				display : none;
			}
		</style>
	</head>
	<body>
		<!--S_H_O_W_R_E_E_L-->
		<section>
			<div class = 'content'>
				<video autoplay id = 'header-video' loop muted>
					<source src = 'Videos/Showreel.mp4' type = 'video/mp4'>
				</video>
			</div>
			<img alt = 'Platzhalter' src = 'platzhalter.png'>
			<h2>Showreel.</h2>
		</section>
		<!--P_O_R_T_F_O_L_I_O-->
		<section>
			<div class = 'content'>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Musikvideos</h3>
					<div class = 'content'>
						<p>Hier gibts ein paar Beispiele.</p>
					</div>
				</div>
				<div class = 'box'>
					<video muted>
						<source src = 'Videos/Unternehmensfilm.mp4'
						        type = 'video/mp4'>
					</video>
					<h3>Unternehmensfilme</h3>
					<div class = 'content'>
						<p>Image-.Messe-,Recruiting-</p>
						<p>Wir machen den Film, den Ihr Unternehmen braucht.
						</p>
						<p>Imagefilme sind aus der heutigen Welt nicht mehr
						   wegzudenken. Es gibt keine bessere Möglichkeit, den
						   Geist einer Firma darzustellen. Wir beraten Sie für
						   Ihre Videoproduktion individuell.
						</p>
					</div>
				</div>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Werbung.</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Produktfilme%20-%20Werbung.mp4'
							        type = 'video/mp4'>
						</video>
						<p>Eine Hass-Liebe</p>
						<p>Viele hassen sie. Alle wollen sie. Wir machen sie.
						</p>
					</div>
				</div>
			</div>
			<img alt = 'Platzhalter' src = 'platzhalter.png'>
			<h2>Portfolio</h2>
		</section>
		<!--W_I_R_ _S_I_N_D-->
		<section>
			<div class = 'content'>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Team</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Wir%20sind%20-%20Alle.mp4'
							        type = 'video/mp4'>
						</video>
						<p> Aus Bremen. Jung. Modern. Filmemacher und co. Wir
						    bieten von Konzeption bis Vertrieb alles, was man
						    aus (Bewegt-)Bildern machen kann. Wir haben einen
						    riesigen Pool an Medienschaffenden und so immer die
						    richtigen Menschen für Sie und Ihr Projekt. Aber
						    lernen Sie hier erstmal die kennen, die eh alles
						    machen.
						</p>
					</div>
				</div>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Paulo</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Wir%20sind%20-%20Paulo.mp4'
							        type = 'video/mp4'>
						</video>
					</div>
				</div>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Simon</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Wir%20sind%20-%20Simon.mp4'
							        type = 'video/mp4'>
						</video>
					</div>
				</div>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Tilman</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Wir%20sind-%20Tilman.mp4'
							        type = 'video/mp4'>
						</video>
					</div>
				</div>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Moritz</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Wir%20sind-%20Moritz.mp4'
							        type = 'video/mp4'>
						</video>
					</div>
				</div>
			</div>
			<img alt = 'Platzhalter' src = 'platzhalter.png'>
			<h2>Wir sind</h2>
		</section>
		<!--S_O_N_S_T_I_G_E_S-->
		<section>
			<div class = 'content'>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Narrativ</h3>
					<div class = 'content'>
						<video muted>
							<source src = 'Videos/Narrativ.mp4'
							        type = 'video/mp4'>
						</video>
						<p> Manches kompvart, manches unterstützt.</p>
					</div>
				</div>
				<div class = 'box'>
					<img alt = 'Platzhalter' src = 'platzhalter.png'>
					<h3>Behind the scenes</h3>
					<div class = 'content'>
						<p>Um mit Bewegtbild zu verzaubern, müssen viele Opfer
						   gebracht werden. Hier mehr dazu.
						</p>
						<p> Ach ja. Blicke hinter die Kulissen und Technik gibt
						    es hier auch.
						</p>
						<div class = 'grid'>
							<video muted>
								<source src = 'Videos/BTS-Beispiel.mp4'
								        type = 'video/mp4'>
							</video>
							<video muted>
								<source src = 'Videos/BTS-Beispiel2.mp4'
								        type = 'video/mp4'>
							</video>
							<video muted>
								<source src = 'Videos/BTS-Beispiel3.mp4'
								        type = 'video/mp4'>
							</video>
						</div>
					</div>
				</div>
			</div>
			<img alt = 'Platzhalter' src = 'platzhalter.png'>
			<h2>Sonstiges</h2>
		</section>
		<!--K_O_N_T_A_K_T-->
		<section>
			<p>Test</p>
			<img alt = 'Platzhalter' src = 'platzhalter.png'>
			<h2>Kontakt</h2>
		</section>
		<!-- I_M_P_R_E_S_S_U_M -->
		<section>
			<div class = 'content'>
				<div class = 'box'>
					<p>24OliveTrees MEDIA UG (haftungsbeschränkt)
						<br/>
					   Tietjenstr. 2
						<br/>
					   28359 Bremen
						<br/>
					   +49 421 9896 4620
						<br/>
					   hello@24olivetrees.com
						<br/>
					   24olivetrees.com
						<br/>
						<br/>
					   Amtsgericht Bremen: HRB 34903 HB
						<br/>
					   USt-ID: DE326107002
						<br/>
					   Geschäftsführer: Tilman Görlitz
						<br/>
					   Geschäftszeiten: montags bis freitags, 9–17 Uhr
						<br/>
						<br/>
					   Verantwortlich für den Inhalt der Seite: Moritz Rocker
						<br/>
					</p>
				</div>
			</div>
			<img alt = 'Platzhalter' src = 'platzhalter.png'>
			<h2>Impressum</h2>
		</section>
		<script>
			//A_N_I_M_A_T_E
			const spline = new Array(125);
			for(let i = 0; i < 125; ++i){
				spline[i] = (1 + Math.cos(Math.PI / 125 * i)) / 2;
			}
			function getValue(object, property){
				return parseInt(window.getComputedStyle(object, null)
				                      .getPropertyValue(property), 10);
			}
			function animate(object, property, end, milliseconds){
				let t                                       = 0, delta = 1000 / milliseconds,
				    start = getValue(object, property), way = start - end,
				    interval;
				if(delta > 124) delta = 124;
				interval = setInterval(() => {
					if(124 < t) clearInterval(interval);
					object.style[property] = end + spline[t] * way + 'px';
					t += delta;
				}, 4);
			}
			//S_C_R_O_L_L___T_O
			function scrollTo(sections, page){
				let i                                          = 0, milliseconds = 1000, delay = 200, current, top,
				    newTop, interval, height, zIndex, fontSize = 20, opacity;
				//Scrolls to a page in some milliseconds
				interval = setInterval(() => {
					//Look for one object that has to be animated
					do{
						if(i >= sections.length) clearInterval(interval);
						current = sections[i];
						//Get top of current
						top = getValue(current, 'top');
						//Get height of current
						height = getValue(current, 'height');
						//Get image
						opacity = 0;
						//Calculate newTop
						//____Top navigation
						if(i < page){
							newTop = (i + 1) * 50 - height;
							zIndex = sections.length - 1 - i;
						}
						//____Bottom navigation
						else if(i > page){
							newTop =
								window.innerHeight - (sections.length - i) * 50;
							zIndex = i;
						}
						//____Current page
						else{
							newTop = i * 50;
							zIndex = 0;
							fontSize = 60;
							opacity = 1;
						}
						++i;
					} while(top >= newTop - 1 && top <= newTop + 1);
					//Animate current with delay
					animate(current, 'top', newTop, milliseconds);
					animate(current, 'left', 0, milliseconds);
					let h2 = current.querySelector('h2');
					animate(h2, 'fontSize', fontSize, milliseconds);
					current.style.zIndex = zIndex;
					animate(current.querySelector('img'), 'opacity', opacity,
					        milliseconds);
				}, delay);
			}
			//Set height for all sections
			function updateSize(sections){
				for(let j = 0; j < sections.length; ++j){
					animate(sections[j], 'height',
					        window.innerHeight - (sections.length - 1) * 50,
					        1000);
					animate(sections[j], 'width', window.innerWidth, 1000);
				}
			}
			const sections = document.getElementsByTagName('section');
			for(let j = 0; j < sections.length; ++j){
				let imgs = sections[j].getElementsByTagName('img');
				imgs[0].style.filter = 'hue-rotate(' + 40 * j + 'deg)';
				sections[j].onclick = () => {
					scrollTo(sections, j);
					page = j;
				};
			}
			updateSize(sections);
			//Scroll initially to first section
			scrollTo(sections, 0);
			//S_C_R_O_L_L
			let oldTime = 0, page = 0;
			function scroll(sections, keyCode){
				if(Date.now() <= oldTime + 550){
					return;
				}
				switch(keyCode){
					case 33:
					case 38:
						//UP
						if(page >= 1){
							--page;
						}
						break;
					case 34:
					case 40:
						//DOWN
						if(page <= sections.length - 2){
							++page;
						}
						break;
					case 36:
						//HOME
						page = 0;
						break;
					case 35:
						//END
						page = sections.length - 1;
						break;
					default:
						if(keyCode >= 49 && keyCode <= 54){
							page = keyCode - 49;
						}
				}
				scrollTo(sections, page);
				oldTime = Date.now();
			}
			function animateBoxes(sections){
				let milliseconds = 1000, i = 0, boxes, boxWidth, j = 0;
				for(; i < sections.length; ++i){
					boxes = sections[i].getElementsByClassName('box');
					boxWidth = window.innerWidth / boxes.length;
					for(j = 0; j < boxes.length; ++j){
						animate(boxes[j], 'width', boxWidth, milliseconds);
						animate(boxes[j], 'left', j * boxWidth, milliseconds);
					}
				}
			}
			animateBoxes(0);
			window.onresize = () => {
				animateBoxes(sections);
				scrollTo(sections, page);
				updateSize(sections);
			};
			//L_I_S_T_E_N_E_R_S
			//____M-O-U-S-E
			window.on;
			//H_O_V_E_R
			document.getElementsByTagName('video').onmouseenter = (e) => {
				const o = e.target;
				o.play();
			};
			document.getElementsByTagName('video').onmouseleave = (e) => {
				const o = e.target;
				o.pause();
			};
			//R-E-C-O-G-N-I-Z-E
			function recognize(x, y){
				let absX = Math.abs(x), absY = Math.abs(y);
				if(absX > absY / 2){
					if(x < -30){
						return 37;
					} else if(x > 30){
						return 39;
					}
				} else if(absY > absX / 2){
					if(y < -30){
						return 38;
					} else if(y > 30){
						return 40;
					}
				}
				//Else
				return 0;
			}
			//____W_H_E_E_L
			window.onwheel = (e) => {
				//Scroll, if wheel moved
				scroll(sections, recognize(e.deltaX, e.deltaY));
			};
			//DRAG
			function drag(object, topX, topY, deltaX, deltaY){
				//Drag current section
				object.style.top = topY + deltaY / 10 + 'px';
				object.style.left = topX + deltaX / 10 + 'px';
			}
			//____T_O_U_C_H
			let topX, topY, oldX, oldY;
			window.ontouchstart = (e) => {
				//Store location of touch start
				topY = getValue(sections[page], 'top');
				topX = getValue(sections[page], 'left');
				oldX = e.touches[0].clientX;
				oldY = e.touches[0].clientY;
			};
			window.ontouchmove = (e) => {
				//Drag, if finger is moving
				drag(sections[page], topX, topY,
				     e.changedTouches[0].clientX - oldX,
				     e.changedTouches[0].clientY - oldY);
			};
			window.ontouchend = (e) => {
				//Scroll, if finger releases
				scroll(sections, recognize(oldX - e.changedTouches[0].clientX,
				                           oldY - e.changedTouches[0].clientY));
			};
			//P_E_A_K
			function peek(object, keyCode){
				//Move the current object a bit
				switch(keyCode){
					case 37:
						//Left
						animate(object, 'left', getValue(object, 'left') - 50,
						        500);
						break;
					case 38:
						//Up
						animate(object, 'top', getValue(object, 'top') + 50,
						        500);
						break;
					case 39:
						//Right
						animate(object, 'left', getValue(object, 'left') + 50,
						        500);
						break;
					case 40:
						//Down
						animate(object, 'top', getValue(object, 'top') - 50,
						        500);
						break;
				}
			}
			//____K_E_Y
			let keyUp = true;
			document.onkeydown = (e) => {
				//Peek, if key is pressed
				if(keyUp){
					peek(sections[page], e.keyCode);
					keyUp = false;
				}
			};
			document.onkeyup = (e) => {
				//Scroll, if key is released
				if(! keyUp){
					scroll(sections, e.keyCode);
					keyUp = true;
				}
			};
			//S_E_R_V_I_C_E___W_O_R_K_E_R
			navigator.serviceWorker.register('sw.js');
		</script>
	</body>
</html>